![image](https://github.com/user-attachments/assets/9b28b6ed-61c1-44a7-a4d5-112b09c0c765)
# FSTR_Pereval


Федерации спортивного туризма России pereval.online (ФСТР) заказала студентам SkillFactory разработать мобильное приложение для Android и IOS, которое упростило бы туристам задачу по отправке данных о перевале и сократило время обработки запроса до трёх дней.

Пользоваться мобильным приложением будут туристы. В горах они будут вносить данные о перевале в приложение и отправлять их в ФСТР, как только появится доступ в Интернет.

Задача:  
Создать REST API для мобильного приложения для туристов, должны быть реализованы возможности для добавления информации о перевале с заданными параметрами, просмотра детальной информации о перевале, редактирование данных перевала, а также вывод списка перевалов, добавленных конкретным пользователем с идентификацией по его адресу электронной почты.

Технологии, используемые в процессе реализации проекта: Python Django Pycharm Postgres

Пользователь с помощью мобильного приложения будет передавать в ФСТР:
   - координаты перевала и его высота;
   - имя пользователя;
   - почта и телефон пользователя;
   - название перевала;
   - несколько фотографий перевала

После этого турист нажмёт кнопку «Отправить» в мобильном приложении. Мобильное приложение вызывает метод submitData твоего REST API.


> Пример JSON с информацией о перевале
```
>{
  "beauty_title": "пер. ",
  "title": "Пхия",
  "other_titles": "Триев",
  "connect": "", // что соединяет, текстовое поле
 
  "add_time": "2021-09-22 13:18:13",
  "user": {"email": "qwerty@mail.ru", 		
        "fam": "Пупкин",
		 "name": "Василий",
		 "otc": "Иванович",
        "phone": "+7 555 55 55"}, 
 
   "coords":{
  "latitude": "45.3842",
  "longitude": "7.1525",
  "height": "1200"}
 
 
  level:{"winter": "", //Категория трудности. В разное время года перевал может иметь разную категорию трудности
  "summer": "1А",
  "autumn": "1А",
  "spring": ""},
 
   images: [{data:"<картинка1>", title:"Седловина"}, {data:"<картинка>", title:"Подъём"}]
}
```
> Результат метода: JSON
```
    *status — код HTTP, целое число:
        *500 — ошибка при выполнении операции;
        *400 — Bad Request (при нехватке полей);
        *200 — успех.
    *message — строка:
        *Причина ошибки (если она была);
        *Отправлено успешно;
        *Если отправка успешна, дополнительно возвращается id вставленной записи.

        *id — идентификатор, который был присвоен объекту при добавлении в базу данных.  
```
_______________________________________________________________________________________________________________________________________________
> ### Структура базы данных:
> > [Доступна по ссылке](https://github.com/Andro-nic/FSTR_Pereval/blob/main/pereval/pereval/models.py)

> ### REST API (с методами POST, GET, PATCH)
> > [Доступен по ссылке](https://github.com/Andro-nic/FSTR_Pereval/blob/main/pereval/pereval/views.py)
> Реализованные методы:
>  - **GET api/pereval/<int:pk>** - извлекает конкретную запись по её id и включает всю связанную информацию, включая статус модерации.
>  - **GET api/pereval/?user__email=<emailList>** - фильтрует по email, выводе информацию по всем перевалам односящимся к пользователя с данным email
>  - **POST api/pereval/create** - добавляет перевел (реализовано добавление перевала для уже существующего пользователя)
>  - **PATCH api/pereval/<int:pk>/update** - обновляет данные перевала

> ### Документация создана с помощью Swagger
> <http://127.0.0.1:8000/swagger/>
> <http://127.0.0.1:8000/redoc>


